local HttpService = game:GetService("HttpService")
local TweenService = game:GetService("TweenService")

-- [[ KONFIGURASI ]] --
local API_URL = "https://domain-anda.com/api/server.php" 
local GET_KEY_LINK = "https://link-get-key-anda.com" -- GANTI DENGAN LINK ANDA
local SERVICE_NAME = "glitchtes"

-- [[ CREATE UI ]] --
local ScreenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
ScreenGui.Name = "GlitchKeySystem"

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 300, 0, 230) -- Ukuran ditambah sedikit
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -115)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
MainFrame.BorderSizePixel = 0
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 15)

local Title = Instance.new("TextLabel", MainFrame)
Title.Text = "GLITCH HUB SYSTEM"
Title.Size = UDim2.new(1, 0, 0, 40)
Title.TextColor3 = Color3.new(1, 1, 1)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14

local KeyInput = Instance.new("TextBox", MainFrame)
KeyInput.Size = UDim2.new(0.8, 0, 0, 40)
KeyInput.Position = UDim2.new(0.1, 0, 0.25, 0)
KeyInput.PlaceholderText = "Paste Key Here..."
KeyInput.Text = ""
KeyInput.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
KeyInput.TextColor3 = Color3.new(1, 1, 1)
KeyInput.Font = Enum.Font.Gotham
KeyInput.TextSize = 12
Instance.new("UICorner", KeyInput).CornerRadius = UDim.new(0, 8)

-- BUTTON CHECK KEY
local SubmitBtn = Instance.new("TextButton", MainFrame)
SubmitBtn.Size = UDim2.new(0.8, 0, 0, 40)
SubmitBtn.Position = UDim2.new(0.1, 0, 0.5, 0)
SubmitBtn.Text = "CHECK KEY"
SubmitBtn.BackgroundColor3 = Color3.fromRGB(80, 0, 255)
SubmitBtn.TextColor3 = Color3.new(1, 1, 1)
SubmitBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", SubmitBtn).CornerRadius = UDim.new(0, 8)

-- BUTTON GET KEY
local GetKeyBtn = Instance.new("TextButton", MainFrame)
GetKeyBtn.Size = UDim2.new(0.8, 0, 0, 40)
GetKeyBtn.Position = UDim2.new(0.1, 0, 0.72, 0)
GetKeyBtn.Text = "GET KEY (COPY LINK)"
GetKeyBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
GetKeyBtn.TextColor3 = Color3.new(1, 1, 1)
GetKeyBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", GetKeyBtn).CornerRadius = UDim.new(0, 8)

-- [[ LOGIC ]] --

-- Fungsi Copy Link Get Key
GetKeyBtn.MouseButton1Click:Connect(function()
    setclipboard(GET_KEY_LINK) -- Menyalin link ke clipboard user
    GetKeyBtn.Text = "LINK COPIED!"
    wait(2)
    GetKeyBtn.Text = "GET KEY (COPY LINK)"
end)

-- Fungsi Verifikasi Key
SubmitBtn.MouseButton1Click:Connect(function()
    local enteredKey = KeyInput.Text
    if enteredKey == "" then return end
    
    SubmitBtn.Text = "Verifying..."
    
    local data = {
        ["key"] = enteredKey,
        ["hwid"] = game:GetService("RbxAnalyticsService"):GetClientId(),
        ["service"] = SERVICE_NAME
    }

    local success, response = pcall(function()
        return HttpService:PostAsync(API_URL, HttpService:JSONEncode(data), Enum.HttpContentType.ApplicationJson)
    end)

    if success then
        local res = HttpService:JSONDecode(response)
        if res.status == "success" then
            SubmitBtn.Text = "Success!"
            wait(0.5)
            ScreenGui:Destroy()
            loadstring(res.script)()
        else
            SubmitBtn.Text = res.message
            wait(2)
            SubmitBtn.Text = "CHECK KEY"
        end
    else
        SubmitBtn.Text = "Server Error!"
    end
end)
